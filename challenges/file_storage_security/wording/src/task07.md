# C1 - File Storage Security - Task 7: HELP 🙃

## DESCRIPTION

Ok, looks like you’ve totally screwed yourself over and released code in the environment that drops a cryptominer on every machine that visits SudoSingles™… Not good.

You need to A) clean this mess up, and B) fix the underlying vulnerability. There’s no way to know how much more malware might be hiding in the S3 environment!

However, all the Java developers at SudoSingles™ LLC are competing in a week-long Super Smash Brothers tournament in a gigantic Faraday cage on a remote island. Some kind of teambuilding activity, they said… Sorry, I have no idea. But you’re on your own—the devs are totally unreachable.

You need to make sure that even if the backend is exploited, SudoSingles™ will serve no malware to its users. Luckily, you are a Trend Micro Cloud One customer and have File Storage Security at your disposal.

The only issue is that the malware is already in that bucket, and the bucket has millions of profile pictures already in it! There’s no way to scan all those existing files with FSS in the normal configuration—trust me, I’ve tried. And you need to stop this now.

Luckily, there is a better way. You’ve heard about the new ScanOnGetObject feature of FSS that should help here.

## DETAILS

In this challenge, you need to deploy an FSS All-In-One Stack with the ScanOnGetObject feature enabled to protect the bucket that contains all the profile pictures of the SudoSingles™ users.

You would normally do this using the quickstart CloudFormation template generated by the FSS console, but you can’t do that on Tech Day. So you’re going to have to use the AWS Service Catalog for today.

Navigate to the Service Catalog and launch the “File Storage Security All in One Template” product. This is an exact copy of the CloudFormation template from the FSS console.

Configure the stack to protect the bucket found under “FSSBucketToProtect” in the "Credentials" field below.

Finally, you’ll need to acquire your FSS external ID to finish launching the All-In-One stack. I’ll leave this one up to you.

To complete this challenge, answer the following question using the box below: 

How many entries are in the Events -> Outputs section of the Service Catalog Product you just deployed. 

## NOTES

Count the number of lines under "Output key" on the "Events -> Outputs" page for your Service Catalog product. Make sure to enter a number.

Don't brute-force this one. You'll totally regret it. Once you pass this screen, I'll make you take hints if you need to see these instructions again.

## SCORING

10

## HINTS

### HINT 1

You can get your ExternalID by trying to launch an FSS template from the FSS console, and copying the value from there. Or you can use the FSS API. Your choice.

### HINT 2

If the template isn’t deploying, delete the service catalog and try again, making sure that your region and ExternalID are correct.

### HINT 3

1. Find your ExternalID by launching a stack from the FSS console and copying the ExternalID value.
2. Fill in the Service Catalog product template, making sure to set "S3BucketToScan" to the value of "FSSBucketToProtect" from the "Credentials" field of Mission Control, "ScanOnGetObject" to "true," "Trend Micro Cloud One region" to "trend-us-1," and the ExternalID to the ExternalID from step 1
3. You’re done when the FSS product is in the "Available" state.
